<!DOCTYPE html>
<html>
    <body>

        <h2>Replace an Element Example</h2>

        <p id="XMLDOM"></p>

        <script>
            var text = `
                    <Bank>
                        <Employee>
                            <ID>673</ID>
                            <Name>John Smith</Name>
                            <Branch>Downtown</Branch>
                            <Department>Customer</Department>
                            <Position>Teller</Position>
                            <Specializations>Finance</Specializations>
                            <Yesrs>8</Yesrs>
                        </Employee>
                        <Employee>
                            <ID>988</ID>
                            <Name>Sarah Johnson</Name>
                            <Branch>Uptown</Branch>
                            <Department>Loans</Department>
                            <Position>Loan Officer</Position>
                            <Specializations>Accounting</Specializations>
                            <Yesrs>8</Yesrs>
                        </Employee>
                    </Bank>`;

            // Parse the XML
            var parser = new DOMParser();
            var xmlDoc = parser.parseFromString(text, "text/xml");

            // Get the root element <Bank>
            var root = xmlDoc.documentElement;

            // Create new <Employee> element
            var newEmployee = xmlDoc.createElement("Employee");

            // Create sub-elements for new employee
            var newID = xmlDoc.createElement("ID");
            var idText = xmlDoc.createTextNode("555");
            newID.appendChild(idText);

            var newName = xmlDoc.createElement("Name");
            var nameText = xmlDoc.createTextNode("Michael White");
            newName.appendChild(nameText);

            var newBranch = xmlDoc.createElement("Branch");
            var branchText = xmlDoc.createTextNode("Central");
            newBranch.appendChild(branchText);

            // Add sub-elements to the new <Employee>
            newEmployee.appendChild(newID);
            newEmployee.appendChild(newName);
            newEmployee.appendChild(newBranch);

            // Replace the first <Employee> with the new one
            var oldEmployee = xmlDoc.getElementsByTagName("Employee")[0];
            root.replaceChild(newEmployee, oldEmployee);

            // Display all employee names after replacement
            var allNames = xmlDoc.getElementsByTagName("Name");
            var txt = "";
            for (var i = 0; i < allNames.length; i++) {
                txt += allNames[i].childNodes[0].nodeValue + "<br>";
            }

            document.getElementById("XMLDOM").innerHTML = txt;
        </script>

    </body>
</html>
